{
  "version": 3,
  "file": "/assets/v3-gdpr-consent.min.js",
  "mappings": "YAAMA,EAAa,WACf,IAAMC,EAAaC,SAASC,eAAe,mBACrCC,EAAqBF,SAASC,eAAe,cAI7CE,GAHcH,SAASC,eAAe,eACtBD,SAASC,eAAe,6BACjCD,SAASI,cAAc,QAClBJ,SAASI,cAAc,gBACnCC,EAAmBC,MAAMC,KAAKR,EAAWS,iBAAiB,mDAE1DC,EAAkBC,OAAOC,QAAQF,gBACjCG,EAAmBH,EAAgBG,mBACrCC,EAAwBJ,EAAgBI,wBAEtCC,EAAW,WAAQ,EAErBf,IACAA,EAAWgB,MAAMC,QAAU,OAC3BjB,EAAWkB,UAAUC,IAAI,WAG7BlB,SAASmB,KAAKJ,MAAMK,cAAgB,OACpCpB,SAASqB,gBAAgBN,MAAMO,QAAU,gEAKpCV,IACDV,EAAmBa,MAAMC,QAAU,QAGnCX,GACAA,EAAiBkB,SAAQ,SAAAC,GACrBA,EAASC,QAAmD,QAAzCZ,EAAsBW,EAASE,KACtD,IAGAvB,GACAA,EAAUwB,iBAAiB,SAAS,SAAUC,GAC1CA,EAAEC,iBACF,IAAIC,EAAaF,EAAEG,OAAOC,aAAa,oBAEvC,GAAIF,EAAY,CACZ,IAAIG,EAAU,CACV,KAAQ,WACJ5B,EAAiBkB,SAAQ,SAACC,GACtBA,EAASC,SAAU,CACvB,IACAhB,EAAgByB,mBACZ,CACI,WAAa,EACb,WAAa,EACb,aAAe,EACf,cAAgB,GAEpBpB,EAER,EACA,kBAAmB,WACf,IAAMqB,EAAgB9B,EACjB+B,QAAO,SAAAZ,GAAQ,OAAIA,EAASC,OAAO,IACnCY,KAAI,SAAAb,GAAQ,OAAIA,EAASE,IAAI,IAClCjB,EAAgByB,mBACZ,CACI,UAAaC,EAAcG,SAAS,aACpC,UAAaH,EAAcG,SAAS,aACpC,YAAeH,EAAcG,SAAS,eACtC,aAAgBH,EAAcG,SAAS,iBAE3CxB,EAER,EACA,YAAa,WACTT,EAAiBkB,SAAQ,SAACC,GACtBA,EAASC,SAAU,CACvB,IACAhB,EAAgByB,mBACZ,CACI,WAAa,EACb,WAAa,EACb,aAAe,EACf,cAAgB,GAEpBpB,EAER,GAEAmB,EAAQH,IACRG,EAAQH,IAEhB,CAEAS,YAAW,WAEPvC,SAASmB,KAAKJ,MAAMK,cAAgB,MACpCpB,SAASqB,gBAAgBN,MAAMO,QAAU,6FAKpCvB,GAAaA,EAAWkB,UAAUuB,OAAO,SAClD,GAAG,KAEHD,YAAW,WACFxC,IAAaA,EAAWgB,MAAMC,QAAU,OACjD,GAAG,KACP,IAGJhB,SAAS2B,iBAAiB,2BAA2B,SAACc,GAClD,IAAMC,EAASD,EAAMC,OAErB,IAAK,IAAMC,KAAOD,EACVA,EAAOE,eAAeD,IAAQD,EAAOC,EA4BjD,GAEJ,EAGAjC,OAAOC,QAAQkC,aACX,CACI,CACInB,KAAM,uBACNoB,QAAS,SAGjB,SAACC,GACG,GAAIA,EACA,MAAMA,EAENrC,OAAOC,QAAQF,gBAAgBuC,wBAC/BlD,GAER,IAE0C,QAA9CmD,EAAAjD,SAASC,eAAe,8BAAsB,IAAAgD,GAA9CA,EAAgDtB,iBAAiB,SAAS,WACtE7B,GACJ,G",
  "sources": [
    "webpack://quickfire-shopify-theme/./resources/js/qf/v3-gdpr-consent.js"
  ],
  "sourcesContent": [
    "const initBanner = () => {\n    const gdprBanner = document.getElementById(\"cookieNotice-v3\");\n    const saleOfDataFlexWrap = document.getElementById(\"saleOfData\");\n    const mainContent = document.getElementById(\"MainContent\");\n    const headerContent = document.getElementById(\"shopify-section-gb-header\");\n    const body = document.querySelector(\"body\");\n    const buttonRow = document.querySelector(\".button-row\");\n    const gdprBannerInputs = Array.from(gdprBanner.querySelectorAll(\"input[type='checkbox']:not([name='necessary'])\"));\n\n    const customerPrivacy = window.Shopify.customerPrivacy;\n    const saleOfDataRegion = customerPrivacy.saleOfDataRegion();\n    let currentVisitorConsent = customerPrivacy.currentVisitorConsent();\n\n    const callback = () => { }\n\n    if (gdprBanner) {\n        gdprBanner.style.display = 'flex';\n        gdprBanner.classList.add('active');\n    }\n    \n    document.body.style.pointerEvents = 'none';\n    document.documentElement.style.cssText = `\n        overflow: hidden;\n        max-height: 100vh;\n    `;\n\n    if (!saleOfDataRegion) {\n        saleOfDataFlexWrap.style.display = \"none\";\n    }\n\n    if (gdprBannerInputs) {\n        gdprBannerInputs.forEach(checkbox => {\n            checkbox.checked = currentVisitorConsent[checkbox.name] === 'yes';\n        });\n    }\n\n    if (buttonRow) {\n        buttonRow.addEventListener(\"click\", function (e) {\n            e.preventDefault();\n            var submitType = e.target.getAttribute(\"data-submit-type\");\n\n            if (submitType) {\n                var actions = {\n                    'deny': function () {\n                        gdprBannerInputs.forEach((checkbox) => {\n                            checkbox.checked = false;\n                        });\n                        customerPrivacy.setTrackingConsent(\n                            {\n                                \"analytics\": false,\n                                \"marketing\": false,\n                                \"preferences\": false,\n                                \"sale_of_data\": false\n                            },\n                            callback\n                        );\n                    },\n                    'allow-selection': function () {\n                        const checkedValues = gdprBannerInputs\n                            .filter(checkbox => checkbox.checked)\n                            .map(checkbox => checkbox.name);\n                        customerPrivacy.setTrackingConsent(\n                            {\n                                \"analytics\": checkedValues.includes(\"analytics\"),\n                                \"marketing\": checkedValues.includes(\"marketing\"),\n                                \"preferences\": checkedValues.includes(\"preferences\"),\n                                \"sale_of_data\": checkedValues.includes(\"sale_of_data\")\n                            },\n                            callback\n                        );\n                    },\n                    'allow-all': function () {\n                        gdprBannerInputs.forEach((checkbox) => {\n                            checkbox.checked = true;\n                        });\n                        customerPrivacy.setTrackingConsent(\n                            {\n                                \"analytics\": true,\n                                \"marketing\": true,\n                                \"preferences\": true,\n                                \"sale_of_data\": true\n                            },\n                            callback\n                        );\n                    }\n                };\n                if (actions[submitType]) {\n                    actions[submitType]();\n                }\n            }\n\n            setTimeout(() => {\n                \n                document.body.style.pointerEvents = 'all';\n                document.documentElement.style.cssText = `\n                    overflow: '';\n                    max-height: '';\n                `;\n                \n                if ( gdprBanner ) gdprBanner.classList.remove('active');\n            }, 250);\n            \n            setTimeout(() => {\n                if ( gdprBanner ) gdprBanner.style.display = \"none\";\n            }, 1500);\n        });\n    }\n\n    document.addEventListener(\"visitorConsentCollected\", (event) => {\n        const detail = event.detail;\n\n        for (const key in detail) {\n            if (detail.hasOwnProperty(key) && detail[key]) {\n                switch (key) {\n                    case \"marketingAllowed\":\n                        // console.log('marketingAllowed');\n                        break;\n\n                    case \"saleOfDataAllowed\":\n                        // console.log('saleOfDataAllowed');\n                        break;\n\n                    case \"analyticsAllowed\":\n                        // console.log('analyticsAllowed');\n                        break;\n\n                    case \"preferencesAllowed\":\n                        // console.log('preferencesAllowed');\n                        break;\n\n                    case \"firstPartyMarketingAllowed\":\n                        // console.log('firstPartyMarketingAllowed');\n                        break;\n\n                    case \"thirdPartyMarketingAllowed\":\n                        // console.log('thirdPartyMarketingAllowed');\n                        break;\n                }\n            }\n        }\n    });\n\n}\n\n// Init\nwindow.Shopify.loadFeatures(\n    [\n        {\n            name: \"consent-tracking-api\",\n            version: \"0.1\",\n        },\n    ],\n    (error) => {\n        if (error) {\n            throw error;\n        }\n        if (window.Shopify.customerPrivacy.shouldShowGDPRBanner()) {\n            initBanner();\n        }\n    }\n);\ndocument.getElementById(\"buttonUpdateCookies\")?.addEventListener('click', () => {\n    initBanner();\n})"
  ],
  "names": [
    "initBanner",
    "gdprBanner",
    "document",
    "getElementById",
    "saleOfDataFlexWrap",
    "buttonRow",
    "querySelector",
    "gdprBannerInputs",
    "Array",
    "from",
    "querySelectorAll",
    "customerPrivacy",
    "window",
    "Shopify",
    "saleOfDataRegion",
    "currentVisitorConsent",
    "callback",
    "style",
    "display",
    "classList",
    "add",
    "body",
    "pointerEvents",
    "documentElement",
    "cssText",
    "forEach",
    "checkbox",
    "checked",
    "name",
    "addEventListener",
    "e",
    "preventDefault",
    "submitType",
    "target",
    "getAttribute",
    "actions",
    "setTrackingConsent",
    "checkedValues",
    "filter",
    "map",
    "includes",
    "setTimeout",
    "remove",
    "event",
    "detail",
    "key",
    "hasOwnProperty",
    "loadFeatures",
    "version",
    "error",
    "shouldShowGDPRBanner",
    "_document$getElementB"
  ],
  "sourceRoot": ""
}
