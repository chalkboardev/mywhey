{"version":3,"file":"/assets/recommended-products.min.js","mappings":"MAAA,IAAMA,EAAuBC,SAASC,cAAc,4BAC9CC,EAAwBC,aAAaC,QAAQ,mBAK7CC,EAAW,IAAIC,sBAAqB,SAAAC,GAExC,GAA+B,GAA3BA,EAAM,GAAGC,eAAwB,CAEnCH,EAASI,UAAUV,GAEnB,IAAMW,EAAgCV,SAASC,cAAc,4BACvDU,EAAMD,EAA8BE,QAAQD,IAClD,GAAGT,EAAuB,CACxB,IAAMW,EAAkBX,EACxB,GAAIW,GAAmBA,EAAgBC,OAAOC,OAAQ,CACpDL,EAA8BM,UAAYH,EACf,IAAII,OAAOC,OAAO,0BAA2B,CACtEC,cAAe,IACfC,aAAc,GACdC,YAAa,CACX,IAAK,CACHF,cAAe,GAEjB,IAAK,CACHA,cAAe,GAEjB,KAAM,CACJA,cAAe,IAGnBG,KAAM,CACJC,SAAS,EACTC,aAAa,EACbC,uBAAuB,EACvBC,cAAc,EACdC,mBAAoB,IAG1B,CACF,MACEC,MAAMjB,GACLkB,MAAK,SAAAC,GACJ,OAAKA,EAASC,GAIPD,EAASE,QAHdC,QAAQC,MAAM,uBACP,KAGX,IACCL,MAAK,SAAAG,GACJ,IAAMG,EAAOnC,SAASoC,cAAc,OACpCD,EAAKnB,UAAYgB,EACjB,IAAMnB,EAAkBsB,EAAKlC,cAAc,4BAE3C,GADAE,aAAakC,QAAQ,kBAAmBxB,EAAgBG,WACpDH,GAAmBA,EAAgBG,UAAUF,OAAOC,OAAQ,CAC9DL,EAA8BM,UAAYH,EAAgBG,UAC/B,IAAIC,OAAOC,OAAO,0BAA2B,CACtEC,cAAe,IACfC,aAAc,GACdC,YAAa,CACX,IAAK,CACHF,cAAe,GAEjB,IAAK,CACHA,cAAe,GAEjB,KAAM,CACJA,cAAe,IAGnBG,KAAM,CACJC,SAAS,EACTC,aAAa,EACbC,uBAAuB,EACvBC,cAAc,EACdC,mBAAoB,IAG1B,CACF,IAAE,OACK,SAAAO,GACLD,QAAQC,MAAMA,EAChB,GAEJ,CAEF,GArFgB,CACdI,WAAY,UAsFdjC,EAASkC,QAAQxC,E","sources":["webpack://quickfire-shopify-theme/./resources/js/sections/recommended-products.js"],"sourcesContent":["const recommeneded_section = document.querySelector('.product-recommendations');\nconst recommendations_local = localStorage.getItem(\"recommendations\"); \nconst options = {\n  rootMargin: '400px'\n}\n\nconst observer = new IntersectionObserver(entry => {\n\n  if (entry[0].isIntersecting == true) {\n\n    observer.unobserve(recommeneded_section);\n\n    const productRecommendationsSection = document.querySelector('.product-recommendations');\n    const url = productRecommendationsSection.dataset.url;\n    if(recommendations_local) {\n      const recommendations = recommendations_local;\n      if (recommendations && recommendations.trim().length) {\n        productRecommendationsSection.innerHTML = recommendations;\n        const swiper_recommended = new window.swiper('.recommendations-slider', {\n          slidesPerView: 1.5,\n          spaceBetween: 10,\n          breakpoints: {\n            768: {\n              slidesPerView: 3\n            },\n            992: {\n              slidesPerView: 4\n            },\n            1200: {\n              slidesPerView: 5\n            }\n          },\n          lazy: {\n            enabled: true,\n            checkInView: false,\n            loadOnTransitionStart: true,\n            loadPrevNext: true,\n            loadPrevNextAmount: 1\n          },\n        });\n      }\n    } else {\n      fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          console.error(\"response was not ok\");\n          return null;\n        }\n        return response.text();\n      })\n      .then(text => {\n        const html = document.createElement('div');\n        html.innerHTML = text;\n        const recommendations = html.querySelector('.product-recommendations');\n        localStorage.setItem(\"recommendations\", recommendations.innerHTML);\n        if (recommendations && recommendations.innerHTML.trim().length) {\n          productRecommendationsSection.innerHTML = recommendations.innerHTML;\n          const swiper_recommended = new window.swiper('.recommendations-slider', {\n            slidesPerView: 1.5,\n            spaceBetween: 10,\n            breakpoints: {\n              768: {\n                slidesPerView: 3\n              },\n              992: {\n                slidesPerView: 4\n              },\n              1200: {\n                slidesPerView: 5\n              }\n            },\n            lazy: {\n              enabled: true,\n              checkInView: false,\n              loadOnTransitionStart: true,\n              loadPrevNext: true,\n              loadPrevNextAmount: 1\n            },\n          });\n        }\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    }\n  }\n\n}, options);\n\nobserver.observe(recommeneded_section);\n"],"names":["recommeneded_section","document","querySelector","recommendations_local","localStorage","getItem","observer","IntersectionObserver","entry","isIntersecting","unobserve","productRecommendationsSection","url","dataset","recommendations","trim","length","innerHTML","window","swiper","slidesPerView","spaceBetween","breakpoints","lazy","enabled","checkInView","loadOnTransitionStart","loadPrevNext","loadPrevNextAmount","fetch","then","response","ok","text","console","error","html","createElement","setItem","rootMargin","observe"],"sourceRoot":""}